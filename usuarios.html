<!DOCTYPE html>
<html>
    <head lang="es">
        <title>API con promesas</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>
        <h2>Listado de usuarios</h2>
       <div class="container">
           <table class="table table-stripped">
               <thead>
                   <tr>
                       <th>Nombre</th>
                       <th>Apellidos</th>
                       <th>Email</th>
                       <th>Tel√©fono</th>
                       <th>DNI</th>
                   </tr>
               </thead>
               <tbody id="data">

               </tbody>
           </table>
       </div>

       <script>
           fetch('http://localhost:3000/user').then(
               res=>{
                   res.json().then(
                       data=>{
                           console.log(data);
                           if(data.length > 0){
                               let temp = "";


                                data.forEach((u) => {
                                    temp += "<tr>";
                                    temp += `<td>${u.name}</td>`;
                                    temp += `<td>${u.surname}</td>`;
                                    temp += `<td>${u.email}</td>`;
                                    temp += `<td>${u.phone}</td>`;
                                    temp += `<td>${u.dni}</td></tr>`;

                                });

                                document.getElementById("data").innerHTML = temp;
                            
                           }
                       }
                   )
               }
           )







           
       </script>
       
    </body>
</html>